<div class="scrollable">
<div class="scrollable-content">
	<div class="section container-fluid">

      <div content-for="rightNav">
        <a class="btn btn-navbar" onclick="window.history.back()">
          <i class="fa fa-check fa-3"></i>  DONE</a>
      </div>

      <input type="search" ng-model="contactSearch" class="form-control app-search" placeholder="Search.." />

      <div class="navbar navbar-app navbar-absolute-bottom">
	      <div class="btn-group justified nav-tabs">
	        <a class="btn btn-default" href="#Popular" toggle="on" active-class="active"  style="border-radius: 0;">Popular</a>
	        
	        <a class="btn btn-default" href="#All" toggle="on" active-class="active"  style="border-radius: 0;">All</a>
	        
	        <a class="btn btn-default" href="#Groups" ng-click="config.checkGroups()" toggle="on" active-class="active"  style="border-radius: 0;">Groups</a>
	      </div>
      </div>

      <div class="tab-content" style="margin-top: 10px; margin-bottom: 40px;">
        <div class="tab-pane" toggleable active-class="active" default="active" id="Popular" exclusion-group="myTabs">
         <ul class="list-group">
            <li ng-repeat="contact in popularContacts | filter:contactSearch" class="list-group-item">
              <h3 style="margin-bottom:0px;">
                <small>{{contact.name}} - <small>{{contact.phoneNumbers[0]}}</small></small>
              </h3>
                <!-- Fake switch directive with ng-switch -->
              <div ng-switch on="config.isInvitee(contact)"> 

                <div ng-switch-when="false">
                  <div  class="switch ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInvitee(contact)"
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

                <div ng-switch-when="true">
                  <div  class="switch active ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInvitee(contact)" 
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

              </div>               
            </li>
          </ul> 
        </div>

        <div class="tab-pane" default={{allContactsDefault()}} toggleable active-class="active" id="All" exclusion-group="myTabs">

        	<ul class="list-group">
            <li ng-repeat="contact in config.model.contacts | orderBy:'name' | filter:contactSearch" class="list-group-item">
              <h3 style="margin-bottom:0px;">
                <small>{{contact.name}} - <small>{{contact.phoneNumbers[0]}}</small></small>
              </h3>

              <div ng-switch on="config.isInvitee(contact)"> 

                <div ng-switch-when="false">
                  <div  class="switch ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInvitee(contact)"
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

                <div ng-switch-when="true">
                  <div  class="switch active ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInvitee(contact)" 
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

             </div>               
            </li>
          </ul>
        </div>

        <div class="tab-pane" toggleable active-class="active" id="Groups" exclusion-group="myTabs">

          <ul class="list-group">
            <li ng-repeat="group in config.model.groups | orderBy:'name'" style="position:relative;" class="list-group-item">
              <h2 ng-click="config.expandGroup(group)" style="margin-bottom: 4px;">
                <small>
                  {{group.name}}
                </small>
                <i class="fa fa-chevron-circle-down pull-left button-grey" ng-show="group.show"></i>
                <i class="fa fa-chevron-circle-right pull-left button-grey" ng-show="!group.show"></i>
              </h2>

              <div ng-switch on="config.isGroupInvited(group)"> 

                <div ng-switch-when="false">
                  <div  class="switch ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInviteeGroup(group)"
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

                <div ng-switch-when="true">
                  <div  class="switch active ng-isolate-scope switch-transition-enabled ng-click-active"
                        ng-click="config.toggleInviteeGroup(group)" 
                        style="position: absolute; right: 0; top: 6px;">
                  <div class="switch-handle"></div></div>
                </div>

               </div> 
                <ul class="list-group" style="margin-bottom: -11px;">
                  <li ng-repeat="id in group.members | filter:contactSearch" ng-show="group.show" class="list-group-item">
                    <h3 style="margin-bottom:0px;">
                      <small>
                        {{config.getContactById(id).name}} - <small>{{config.getContactById(id).phoneNumbers[0]}}</small>
                      </small>
                    </h3>    
                  </li>
                </ul>
            </li>
          </ul>

        </div>
      </div>

	</div>
</div>
</div>